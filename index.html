<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8' />
    <title>NYC Carbon Map : How do the building characteristics (age, land use, etc.) affect the carbon emissions in Manhattan?</title>
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
    <link href="https://api.mapbox.com/mapbox-gl-js/v3.7.0/mapbox-gl.css" rel="stylesheet">
    <script src="https://api.mapbox.com/mapbox-gl-js/v3.7.0/mapbox-gl.js"></script>
    <script src="https://unpkg.com/intersection-observer@0.5.1/intersection-observer.js"></script>
    <script src="https://unpkg.com/scrollama"></script>
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,300;0,400;0,700;1,400&family=Roboto+Condensed:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    
</head>

<body>
    <div id='map'></div>
    <div id='story'></div>
    <script src='config.js'></script>
    <script src="./map.js"></script>
    <div id="north-arrow-icon" aria-hidden="true"></div>

    <script>
      // Move the header content into a card and update scroll prompt
      window.addEventListener('DOMContentLoaded', function() {
        var header = document.getElementById('header');
        if (header) {
          var card = document.createElement('div');
          card.className = 'header-card';
          while (header.firstChild) {
            card.appendChild(header.firstChild);
          }
          header.appendChild(card);

          // Find and update the scroll prompt
          var scrollPrompt = Array.from(card.querySelectorAll('p')).find(p => p.textContent.includes('Scroll to continue'));
          if (scrollPrompt) {
            var promptDiv = document.createElement('div');
            promptDiv.className = 'scroll-prompt';
            promptDiv.innerHTML = 'Scroll to continue<br><span class="arrow">&#9660;</span>';
            card.replaceChild(promptDiv, scrollPrompt);
          }
        }
      });
    </script>
</body>

</html>